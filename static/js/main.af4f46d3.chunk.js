(this.webpackJsonpdont_sick_test=this.webpackJsonpdont_sick_test||[]).push([[0],{35:function(t,e,c){},37:function(t,e,c){},40:function(t,e,c){"use strict";c.r(e);var n=c(16),o=c.n(n),s=c(28),r=c.n(s),i=(c(35),c(0)),a=c.n(i),u=c(1),l=c(13),b=(c(37),c(20)),d=c(25),f=(c(27),c(29)),p=Object(f.a)({apiKey:"AIzaSyDugiSdAbhcAv4kjvZIczRILR0cWnyoLE4",authDomain:"don-t-sick.firebaseapp.com",projectId:"don-t-sick",storageBucket:"don-t-sick.appspot.com",messagingSenderId:"713607862724",appId:"1:713607862724:web:5ada0cc3cdaa6370662c91"}),h=c(14);var g=function(){var t=Object(b.b)(p),e=Object(d.a)(),c=Object(n.useState)(""),o=Object(l.a)(c,2),s=o[0],r=o[1],i=Object(n.useState)(""),f=Object(l.a)(i,2),g=f[0],j=f[1],y=Object(n.useState)(""),A=Object(l.a)(y,2),v=A[0],O=A[1];return Object(n.useEffect)((function(){Object(b.c)(t,(function(c){if(c){console.log(c);var n=c.email;if(!n.includes("@sdh.hs.kr"))return alert("\ud559\uad50\uacc4\uc815\uc73c\ub85c\ub9cc \ub85c\uadf8\uc778 \uac00\ub2a5\ud569\ub2c8\ub2e4."),void Object(b.e)(t);n.includes("sdh19")?r("3".concat(n.substr(5,4))):n.includes("sdh20")?r("2".concat(n.substr(7,4))):n.includes("sdh21")&&r("1".concat(n.substr(5,4))),j(c.displayName);var o=function(){var t=Object(u.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.serviceWorker.register("dont-sick-react/firebase-messaging-sw.js");case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();Object(d.b)(e,{serviceWorkerRegistration:o,vapidKey:"BLnmZ7MoMERjyVHv4b791C7j1_-xqcVi9aCrVWDDFovZSGDgK9FROae3J8Q7AWqTJwbQDc2Dk4LrU0zAEUVqfVQ"}).then((function(t){t?(console.log(t),O(t)):(console.log("No registration token available. Request permission to generate one."),alert("\uc54c\ub9bc \uad8c\ud55c\uc744 \ud5c8\uc6a9\ud574\uc8fc\uc138\uc694."))})).catch((function(t){console.log("An error occurred while retrieving token. ",t),alert("\uc54c\ub9bc \uad8c\ud55c\uc744 \ud5c8\uc6a9\ud574\uc8fc\uc138\uc694.")}))}else{var s=new b.a;s.setCustomParameters({login_hint:"sdh@sdh.hs.kr"}),Object(b.d)(t,s)}}))}),[t]),Object(d.c)(e,(function(t){console.log(t),alert("".concat(t.notification.title,"\n").concat(t.notification.body))})),Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)("header",{className:"App-header",children:[Object(h.jsxs)("p",{children:[s," ",g]}),Object(h.jsx)("p",{className:"App-link",onClick:function(){Object(b.e)(t)},children:"logout"}),Object(h.jsx)("p",{onClick:function(){return function(t,e){fetch("https://iid.googleapis.com/iid/v1/".concat(t,"/rel/topics/").concat(e),{method:"POST",headers:new Headers({Authorization:"key=AAAApiZX2cQ:APA91bGE4My7SUbJhjgtK66X8eADgEsxnBlebWlqIjfUw2YSxn43g3kZjH5mSIcHLdyH1Wfg0cwCWw8rv66tR_D2y3IyH3MCQf-9nfN4zH_SqyvqF-yOeVApflNV6bY_4SbwmgFzLKjp"})}).then((function(t){if(t.status<200||t.status>=400)throw new Error("Error Subscribing to topic: ".concat(t.status," - ").concat(t.text()));console.log('Subscribed to "'.concat(e,'"'))})).catch((function(t){console.error(t)}))}(v,"test")},children:"\uc54c\ub9bc \ubc1b\uae30"}),Object(h.jsx)("p",{onClick:function(){return function(t,e){var c={to:"/topics/".concat(e),registration_tokens:[t]};fetch("https://iid.googleapis.com/iid/v1:batchRemove",{method:"POST",headers:new Headers({Authorization:"key=AAAApiZX2cQ:APA91bGE4My7SUbJhjgtK66X8eADgEsxnBlebWlqIjfUw2YSxn43g3kZjH5mSIcHLdyH1Wfg0cwCWw8rv66tR_D2y3IyH3MCQf-9nfN4zH_SqyvqF-yOeVApflNV6bY_4SbwmgFzLKjp","Content-Type":"application/json"}),body:JSON.stringify(c)}).then((function(t){if(t.status<200||t.status>=400)throw new Error("Error Unsubscribing to topic: ".concat(t.status," - ").concat(t.text()));console.log('Unsubscribed to "'.concat(e,'"'))})).catch((function(t){console.error(t)}))}(v,"test")},children:"\uc54c\ub9bc \uc548\ubc1b\uae30"}),Object(h.jsx)("p",{onClick:function(){return t={message:"test"},"/topics/".concat(e="notice"),void fetch("https://fcm.googleapis.com/fcm/send",{method:"POST",headers:new Headers({Authorization:"key=AAAApiZX2cQ:APA91bGE4My7SUbJhjgtK66X8eADgEsxnBlebWlqIjfUw2YSxn43g3kZjH5mSIcHLdyH1Wfg0cwCWw8rv66tR_D2y3IyH3MCQf-9nfN4zH_SqyvqF-yOeVApflNV6bY_4SbwmgFzLKjp","Content-Type":"application/json"}),body:JSON.stringify({data:t,to:"/topics/".concat(e)})}).then((function(t){if(t.status<200||t.status>=400)throw new Error("Error ".concat(t.status," - ").concat(t.text()));console.log("Success")})).catch((function(t){console.error(t)}));var t,e},children:"\uc54c\ub9bc \ubcf4\ub0b4\uae30"})]})})},j=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,41)).then((function(e){var c=e.getCLS,n=e.getFID,o=e.getFCP,s=e.getLCP,r=e.getTTFB;c(t),n(t),o(t),s(t),r(t)}))};r.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(g,{})}),document.getElementById("root")),j()}},[[40,1,2]]]);
//# sourceMappingURL=main.af4f46d3.chunk.js.map
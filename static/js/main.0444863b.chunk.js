(this.webpackJsonpdont_sick_test=this.webpackJsonpdont_sick_test||[]).push([[0],{35:function(t,e,c){},36:function(t,e,c){},40:function(t,e,c){"use strict";c.r(e);var n=c(16),o=c.n(n),s=c(28),i=c.n(s),r=(c(35),c(13)),a=(c(36),c(20)),u=c(27),l=c(0),b=c.n(l),d=c(1),f=c(23),p=c(29),h=function(){var t=Object(d.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.serviceWorker.register("dont-sick-react/firebase-messaging-sw.js");case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),g=Object(p.a)({apiKey:"AIzaSyDugiSdAbhcAv4kjvZIczRILR0cWnyoLE4",authDomain:"don-t-sick.firebaseapp.com",projectId:"don-t-sick",storageBucket:"don-t-sick.appspot.com",messagingSenderId:"713607862724",appId:"1:713607862724:web:5ada0cc3cdaa6370662c91"}),j=c(14);var y=function(){var t=Object(a.b)(g),e=Object(u.a)(),c=Object(n.useState)(""),o=Object(r.a)(c,2),s=o[0],i=o[1],l=Object(n.useState)(""),b=Object(r.a)(l,2),d=b[0],p=b[1],y=Object(n.useState)(""),A=Object(r.a)(y,2),O=A[0];return A[1],Object(n.useEffect)((function(){Object(a.c)(t,(function(e){if(e){console.log(e);var c=e.email;if(!c.includes("@sdh.hs.kr"))return alert("\ud559\uad50\uacc4\uc815\uc73c\ub85c\ub9cc \ub85c\uadf8\uc778 \uac00\ub2a5\ud569\ub2c8\ub2e4."),void Object(a.e)(t);c.includes("sdh19")?i("3".concat(c.substr(5,4))):c.includes("sdh20")?i("2".concat(c.substr(7,4))):c.includes("sdh21")&&i("1".concat(c.substr(5,4))),p(e.displayName),Object(f.a)(),Object(f.b)({serviceWorkerRegistration:h,vapidKey:"BLnmZ7MoMERjyVHv4b791C7j1_-xqcVi9aCrVWDDFovZSGDgK9FROae3J8Q7AWqTJwbQDc2Dk4LrU0zAEUVqfVQ"}).then((function(t){t?console.log(t):console.log("No registration token available. Request permission to generate one.")})).catch((function(t){console.log("An error occurred while retrieving token. ",t)}))}else{var n=new a.a;n.setCustomParameters({login_hint:"sdh@sdh.hs.kr"}),Object(a.d)(t,n)}}))}),[t]),Object(u.b)(e,(function(t){console.log(t),alert("".concat(t.notification.title,"\n").concat(t.notification.body))})),Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)("header",{className:"App-header",children:[Object(j.jsxs)("p",{children:[s," ",d]}),Object(j.jsx)("p",{className:"App-link",onClick:function(){Object(a.e)(t)},children:"logout"}),Object(j.jsx)("p",{onClick:function(){return function(t,e){fetch("https://iid.googleapis.com/iid/v1/".concat(t,"/rel/topics/").concat(e),{method:"POST",headers:new Headers({Authorization:"key=AAAApiZX2cQ:APA91bGE4My7SUbJhjgtK66X8eADgEsxnBlebWlqIjfUw2YSxn43g3kZjH5mSIcHLdyH1Wfg0cwCWw8rv66tR_D2y3IyH3MCQf-9nfN4zH_SqyvqF-yOeVApflNV6bY_4SbwmgFzLKjp"})}).then((function(t){if(t.status<200||t.status>=400)throw new Error("Error Subscribing to topic: ".concat(t.status," - ").concat(t.text()));console.log('Subscribed to "'.concat(e,'"'))})).catch((function(t){console.error(t)}))}(O,"test")},children:"\uc54c\ub9bc \ubc1b\uae30"}),Object(j.jsx)("p",{onClick:function(){return function(t,e){var c={to:"/topics/".concat(e),registration_tokens:[t]};fetch("https://iid.googleapis.com/iid/v1:batchRemove",{method:"POST",headers:new Headers({Authorization:"key=AAAApiZX2cQ:APA91bGE4My7SUbJhjgtK66X8eADgEsxnBlebWlqIjfUw2YSxn43g3kZjH5mSIcHLdyH1Wfg0cwCWw8rv66tR_D2y3IyH3MCQf-9nfN4zH_SqyvqF-yOeVApflNV6bY_4SbwmgFzLKjp","Content-Type":"application/json"}),body:JSON.stringify(c)}).then((function(t){if(t.status<200||t.status>=400)throw new Error("Error Unsubscribing to topic: ".concat(t.status," - ").concat(t.text()));console.log('Unsubscribed to "'.concat(e,'"'))})).catch((function(t){console.error(t)}))}(O,"test")},children:"\uc54c\ub9bc \uc548\ubc1b\uae30"}),Object(j.jsx)("p",{onClick:function(){return t={message:"test"},"/topics/".concat(e="notice"),void fetch("https://fcm.googleapis.com/fcm/send",{method:"POST",headers:new Headers({Authorization:"key=AAAApiZX2cQ:APA91bGE4My7SUbJhjgtK66X8eADgEsxnBlebWlqIjfUw2YSxn43g3kZjH5mSIcHLdyH1Wfg0cwCWw8rv66tR_D2y3IyH3MCQf-9nfN4zH_SqyvqF-yOeVApflNV6bY_4SbwmgFzLKjp","Content-Type":"application/json"}),body:JSON.stringify({data:t,to:"/topics/".concat(e)})}).then((function(t){if(t.status<200||t.status>=400)throw new Error("Error ".concat(t.status," - ").concat(t.text()));console.log("Success")})).catch((function(t){console.error(t)}));var t,e},children:"\uc54c\ub9bc \ubcf4\ub0b4\uae30"})]})})},A=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,41)).then((function(e){var c=e.getCLS,n=e.getFID,o=e.getFCP,s=e.getLCP,i=e.getTTFB;c(t),n(t),o(t),s(t),i(t)}))};i.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root")),A()}},[[40,1,2]]]);
//# sourceMappingURL=main.0444863b.chunk.js.map
(this.webpackJsonpdont_sick_test=this.webpackJsonpdont_sick_test||[]).push([[0],{49:function(t,e,c){},50:function(t,e,c){},53:function(t,e,c){},54:function(t,e,c){},55:function(t,e,c){},64:function(t,e,c){"use strict";c.r(e);var n=c(6),o=c.n(n),s=c(40),i=c.n(s),a=(c(49),c(13)),r=(c(50),c(28)),l=c(26),j=c(34),b=c(41),d=Object(b.a)({apiKey:"AIzaSyDugiSdAbhcAv4kjvZIczRILR0cWnyoLE4",authDomain:"don-t-sick.firebaseapp.com",projectId:"don-t-sick",storageBucket:"don-t-sick.appspot.com",messagingSenderId:"713607862724",appId:"1:713607862724:web:5ada0cc3cdaa6370662c91"}),h=c(11),u=c(24),O=(c(53),c(54),c(55),c(8));var f=function(){var t=Object(r.b)(d),e=Object(j.a)(),c=Object(n.useState)(""),o=Object(a.a)(c,2),s=o[0],i=o[1],b=Object(n.useState)(""),f=Object(a.a)(b,2),g=f[0],x=f[1],p=Object(n.useState)(""),m=Object(a.a)(p,2),v=m[0],y=m[1];Object(n.useEffect)((function(){Object(r.c)(t,(function(c){if(c){console.log(c);var n=c.email;if(x(n),y(c.displayName),!n.includes("@sdh.hs.kr"))return alert("\ud559\uad50\uacc4\uc815\uc73c\ub85c\ub9cc \ub85c\uadf8\uc778 \uac00\ub2a5\ud569\ub2c8\ub2e4."),void Object(r.e)(t);navigator.serviceWorker&&navigator.serviceWorker.register("/dont-sick-react/firebase-messaging-sw.js").then((function(t){console.log("\uc11c\ube44\uc2a4\uc6cc\ucee4 \ub4f1\ub85d\uc131\uacf5 :",t),Object(j.b)(e,{serviceWorkerRegistration:t,vapidKey:"BLnmZ7MoMERjyVHv4b791C7j1_-xqcVi9aCrVWDDFovZSGDgK9FROae3J8Q7AWqTJwbQDc2Dk4LrU0zAEUVqfVQ"}).then((function(t){t?(console.log(t),i(t)):(console.log("No registration token available. Request permission to generate one."),alert("\uc54c\ub9bc \uad8c\ud55c\uc744 \ud5c8\uc6a9\ud574\uc8fc\uc138\uc694."))})).catch((function(t){console.log("An error occurred while retrieving token. ",t),alert("\uc54c\ub9bc \uad8c\ud55c\uc744 \ud5c8\uc6a9\ud574\uc8fc\uc138\uc694.")}))})).catch((function(t){console.log("\uc11c\ube44\uc2a4\uc6cc\ucee4 \ub4f1\ub85d\uc2e4\ud328 :",t)}))}else{var o=new r.a;o.setCustomParameters({login_hint:"sdh@sdh.hs.kr"}),Object(r.d)(t,o)}}))}),[t]),Object(j.c)(e,(function(t){if(console.log("Message received. ",t),"granted"!==Notification.permission)alert("notification is disabled");else new Notification("\uc544\ud504\uc9c0\ub9d0\uace0",{icon:"./images/logo.png",body:t.data.message})}));var k=function(t,e){"/topics/".concat(e);fetch("https://fcm.googleapis.com/fcm/send",{method:"POST",headers:new Headers({Authorization:"key=AAAApiZX2cQ:APA91bGE4My7SUbJhjgtK66X8eADgEsxnBlebWlqIjfUw2YSxn43g3kZjH5mSIcHLdyH1Wfg0cwCWw8rv66tR_D2y3IyH3MCQf-9nfN4zH_SqyvqF-yOeVApflNV6bY_4SbwmgFzLKjp","Content-Type":"application/json"}),body:JSON.stringify({data:t,to:"/topics/".concat(e)})}).then((function(t){if(t.status<200||t.status>=400)throw new Error("Error ".concat(t.status," - ").concat(t.text()));console.log("Success")})).catch((function(t){console.error(t)}))},S=Object(l.a)(),A=Object(l.c)(S,"on_off"),w=Object(n.useState)(""),N=Object(a.a)(w,2),_=N[0],C=N[1],E=Object(n.useState)(!1),H=Object(a.a)(E,2),I=H[0],F=H[1],W=Object(n.useCallback)((function(){Object(l.b)(A,(function(t){var e=t.val();console.log(e),C(e),F("ON"==e)}))}),[]);Object(n.useEffect)((function(){W()}),[W]);var D=function(){F(!I),Object(l.d)(A,I?"OFF":"ON"),k(I?{message:"\ubcf4\uac74\uc2e4 OFF\ud83d\udd34"}:{message:"\ubcf4\uac74\uc2e4 ON\ud83d\udfe2"},"notice")},q=g.includes("sdh20")?g.substr(0,11):g.substr(0,9),B=Object(l.c)(S,"user/".concat(q,"/notice")),z=Object(n.useState)(""),L=Object(a.a)(z,2),P=(L[0],L[1]),V=Object(n.useState)(!1),M=Object(a.a)(V,2),R=M[0],U=M[1],J=Object(n.useCallback)((function(){Object(l.b)(B,(function(t){var e=t.val();console.log(e),P(e),U("true"==e)}))}),[]);Object(n.useEffect)((function(){J()}),[J]);var K=function(){U(!R),Object(l.d)(B,R?"false":"true"),R?function(t,e){var c={to:"/topics/".concat(e),registration_tokens:[t]};fetch("https://iid.googleapis.com/iid/v1:batchRemove",{method:"POST",headers:new Headers({Authorization:"key=AAAApiZX2cQ:APA91bGE4My7SUbJhjgtK66X8eADgEsxnBlebWlqIjfUw2YSxn43g3kZjH5mSIcHLdyH1Wfg0cwCWw8rv66tR_D2y3IyH3MCQf-9nfN4zH_SqyvqF-yOeVApflNV6bY_4SbwmgFzLKjp","Content-Type":"application/json"}),body:JSON.stringify(c)}).then((function(t){if(t.status<200||t.status>=400)throw new Error("Error Unsubscribing to topic: ".concat(t.status," - ").concat(t.text()));console.log('Unsubscribed to "'.concat(e,'"'))})).catch((function(t){console.error(t)}))}(s,"notice"):function(t,e){fetch("https://iid.googleapis.com/iid/v1/".concat(t,"/rel/topics/").concat(e),{method:"POST",headers:new Headers({Authorization:"key=AAAApiZX2cQ:APA91bGE4My7SUbJhjgtK66X8eADgEsxnBlebWlqIjfUw2YSxn43g3kZjH5mSIcHLdyH1Wfg0cwCWw8rv66tR_D2y3IyH3MCQf-9nfN4zH_SqyvqF-yOeVApflNV6bY_4SbwmgFzLKjp"})}).then((function(t){if(t.status<200||t.status>=400)throw new Error("Error Subscribing to topic: ".concat(t.status," - ").concat(t.text()));console.log('Subscribed to "'.concat(e,'"'))})).catch((function(t){console.error(t)}))}(s,"notice")};return Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:[Object(O.jsx)(h.a,{path:"/dont-sick-react/",exact:!0,component:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("nav",{className:"menu",children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(u.b,{to:"/dont-sick-react/checkPaper",children:"\ubcf4\uac74\uc99d"})}),Object(O.jsx)("li",{children:Object(O.jsx)(u.b,{to:"/dont-sick-react/",children:"\ud648"})}),Object(O.jsx)("li",{children:Object(O.jsx)(u.b,{to:"/dont-sick-react/setting",children:"\uc124\uc815"})})]})}),Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"box",children:[Object(O.jsx)("img",{src:"images/logo.png",alt:"logo"}),Object(O.jsx)("hr",{style:{width:"100%",marginBottom:"50px"}}),Object(O.jsx)("div",{className:"curcle ".concat(_)}),Object(O.jsxs)("h2",{id:"text",style:{marginBottom:"70px"},children:["\ubcf4\uac74\uc2e4 \ud604\uc7ac ",_]}),Object(O.jsxs)("label",{className:"switch-button",style:{marginBottom:"50px"},children:[Object(O.jsx)("input",{checked:I,onChange:D,type:"checkbox",id:"on_off_btn"}),Object(O.jsx)("span",{className:"onoff-switch"})]}),Object(O.jsxs)("p",{children:["\ucf54\ub85c\ub098 \uc758\uc2ec\uc99d\uc0c1: \ubc1c\uc5f4, \uad8c\ud0dc\uac10, \uae30\uce68, \ud638\ud761\uace4\ub780 \ubc0f \ud3d0\ub834 \ub4f1 \ub098\ud0c0\ub0a8.",Object(O.jsx)("br",{}),"\uadf8 \uc678 \uac00\ub798, \uc778\ud6c4\ud1b5, \ub450\ud1b5, \uac1d\ud608\uacfc \uc624\uc2ec, \uc124\uc0ac \ub4f1\ub3c4 \ub098\ud0c0\ub0a8."]}),Object(O.jsx)("h2",{style:{marginBottom:"50px"},children:"\uc9c8\ubcd1\uad00\ub9ac\uccad \ucf5c\uc13c\ud130 1399"})]})})]})}}),Object(O.jsx)(h.a,{path:"/dont-sick-react/setting",component:function(){return Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"box",children:[Object(O.jsx)("h2",{children:"\uacc4\uc815\uc815\ubcf4"}),Object(O.jsxs)("p",{style:{textAlign:"left"},children:["\uc774\ub984: ",v]}),Object(O.jsxs)("p",{style:{textAlign:"left",marginBottom:"70px"},children:["\uc774\uba54\uc77c: ",g]}),Object(O.jsx)("h2",{children:"\uc54c\ub9bc \ud5c8\uc6a9\ubc84\ud2bc"}),Object(O.jsxs)("label",{className:"switch-button",style:{marginBottom:"50px"},children:[Object(O.jsx)("input",{checked:R,onChange:K,type:"checkbox",id:"on_off_btn"}),Object(O.jsx)("span",{className:"onoff-switch"})]}),Object(O.jsx)("h2",{children:"\ub85c\uadf8\uc544\uc6c3\ud558\uae30"}),Object(O.jsx)("button",{className:"logout_btn",onClick:function(){Object(r.e)(t)},children:"\ub85c\uadf8\uc544\uc6c3\ud558\uae30"}),Object(O.jsx)("nav",{className:"menu",children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(u.b,{to:"/dont-sick-react/checkPaper",children:"\ubcf4\uac74\uc99d"})}),Object(O.jsx)("li",{children:Object(O.jsx)(u.b,{to:"/dont-sick-react/",children:"\ud648"})}),Object(O.jsx)("li",{children:Object(O.jsx)(u.b,{to:"/dont-sick-react/setting",children:"\uc124\uc815"})})]})})]})})}})]})},g=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,65)).then((function(e){var c=e.getCLS,n=e.getFID,o=e.getFCP,s=e.getLCP,i=e.getTTFB;c(t),n(t),o(t),s(t),i(t)}))};i.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(u.a,{children:Object(O.jsx)(f,{})})}),document.getElementById("root")),g()}},[[64,1,2]]]);
//# sourceMappingURL=main.dfb679c9.chunk.js.map
(this.webpackJsonpdont_sick_test=this.webpackJsonpdont_sick_test||[]).push([[0],{35:function(t,e,c){},36:function(t,e,c){},40:function(t,e,c){"use strict";c.r(e);var n=c(16),o=c.n(n),s=c(28),i=c.n(s),r=(c(35),c(13)),a=(c(36),c(20)),l=c(25),d=(c(0),c(1),c(27),c(29)),u=Object(d.a)({apiKey:"AIzaSyDugiSdAbhcAv4kjvZIczRILR0cWnyoLE4",authDomain:"don-t-sick.firebaseapp.com",projectId:"don-t-sick",storageBucket:"don-t-sick.appspot.com",messagingSenderId:"713607862724",appId:"1:713607862724:web:5ada0cc3cdaa6370662c91"}),b=c(14);var f=function(){var t=Object(a.b)(u),e=Object(l.a)(),c=Object(n.useState)(""),o=Object(r.a)(c,2),s=o[0],i=o[1],d=Object(n.useState)(""),f=Object(r.a)(d,2),g=f[0],h=f[1],p=Object(n.useState)(""),j=Object(r.a)(p,2),A=j[0],y=j[1];return Object(n.useEffect)((function(){Object(a.c)(t,(function(c){if(c){console.log(c);var n=c.email;if(!n.includes("@sdh.hs.kr"))return alert("\ud559\uad50\uacc4\uc815\uc73c\ub85c\ub9cc \ub85c\uadf8\uc778 \uac00\ub2a5\ud569\ub2c8\ub2e4."),void Object(a.e)(t);n.includes("sdh19")?i("3".concat(n.substr(5,4))):n.includes("sdh20")?i("2".concat(n.substr(7,4))):n.includes("sdh21")&&i("1".concat(n.substr(5,4))),h(c.displayName),console.log(e),Object(l.b)(e,{serviceWorkerRegistration:navigator.serviceWorker.register("/dont-sick-react/firebase-messaging-sw.js"),vapidKey:"BLnmZ7MoMERjyVHv4b791C7j1_-xqcVi9aCrVWDDFovZSGDgK9FROae3J8Q7AWqTJwbQDc2Dk4LrU0zAEUVqfVQ"}).then((function(t){t?(console.log(t),y(t)):(console.log("No registration token available. Request permission to generate one."),alert("\uc54c\ub9bc \uad8c\ud55c\uc744 \ud5c8\uc6a9\ud574\uc8fc\uc138\uc694."))})).catch((function(t){console.log("An error occurred while retrieving token. ",t),alert("\uc54c\ub9bc \uad8c\ud55c\uc744 \ud5c8\uc6a9\ud574\uc8fc\uc138\uc694.")}))}else{var o=new a.a;o.setCustomParameters({login_hint:"sdh@sdh.hs.kr"}),Object(a.d)(t,o)}}))}),[t]),Object(l.c)(e,(function(t){console.log(t),alert("".concat(t.notification.title,"\n").concat(t.notification.body))})),Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)("header",{className:"App-header",children:[Object(b.jsxs)("p",{children:[s," ",g]}),Object(b.jsx)("p",{className:"App-link",onClick:function(){Object(a.e)(t)},children:"logout"}),Object(b.jsx)("p",{onClick:function(){return function(t,e){fetch("https://iid.googleapis.com/iid/v1/".concat(t,"/rel/topics/").concat(e),{method:"POST",headers:new Headers({Authorization:"key=AAAApiZX2cQ:APA91bGE4My7SUbJhjgtK66X8eADgEsxnBlebWlqIjfUw2YSxn43g3kZjH5mSIcHLdyH1Wfg0cwCWw8rv66tR_D2y3IyH3MCQf-9nfN4zH_SqyvqF-yOeVApflNV6bY_4SbwmgFzLKjp"})}).then((function(t){if(t.status<200||t.status>=400)throw new Error("Error Subscribing to topic: ".concat(t.status," - ").concat(t.text()));console.log('Subscribed to "'.concat(e,'"'))})).catch((function(t){console.error(t)}))}(A,"test")},children:"\uc54c\ub9bc \ubc1b\uae30"}),Object(b.jsx)("p",{onClick:function(){return function(t,e){var c={to:"/topics/".concat(e),registration_tokens:[t]};fetch("https://iid.googleapis.com/iid/v1:batchRemove",{method:"POST",headers:new Headers({Authorization:"key=AAAApiZX2cQ:APA91bGE4My7SUbJhjgtK66X8eADgEsxnBlebWlqIjfUw2YSxn43g3kZjH5mSIcHLdyH1Wfg0cwCWw8rv66tR_D2y3IyH3MCQf-9nfN4zH_SqyvqF-yOeVApflNV6bY_4SbwmgFzLKjp","Content-Type":"application/json"}),body:JSON.stringify(c)}).then((function(t){if(t.status<200||t.status>=400)throw new Error("Error Unsubscribing to topic: ".concat(t.status," - ").concat(t.text()));console.log('Unsubscribed to "'.concat(e,'"'))})).catch((function(t){console.error(t)}))}(A,"test")},children:"\uc54c\ub9bc \uc548\ubc1b\uae30"}),Object(b.jsx)("p",{onClick:function(){return t={message:"test"},"/topics/".concat(e="notice"),void fetch("https://fcm.googleapis.com/fcm/send",{method:"POST",headers:new Headers({Authorization:"key=AAAApiZX2cQ:APA91bGE4My7SUbJhjgtK66X8eADgEsxnBlebWlqIjfUw2YSxn43g3kZjH5mSIcHLdyH1Wfg0cwCWw8rv66tR_D2y3IyH3MCQf-9nfN4zH_SqyvqF-yOeVApflNV6bY_4SbwmgFzLKjp","Content-Type":"application/json"}),body:JSON.stringify({data:t,to:"/topics/".concat(e)})}).then((function(t){if(t.status<200||t.status>=400)throw new Error("Error ".concat(t.status," - ").concat(t.text()));console.log("Success")})).catch((function(t){console.error(t)}));var t,e},children:"\uc54c\ub9bc \ubcf4\ub0b4\uae30"})]})})},g=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,41)).then((function(e){var c=e.getCLS,n=e.getFID,o=e.getFCP,s=e.getLCP,i=e.getTTFB;c(t),n(t),o(t),s(t),i(t)}))};i.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(f,{})}),document.getElementById("root")),g()}},[[40,1,2]]]);
//# sourceMappingURL=main.4d4147ce.chunk.js.map
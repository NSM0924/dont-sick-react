(this.webpackJsonpdont_sick_test=this.webpackJsonpdont_sick_test||[]).push([[0],{34:function(t,e,o){},35:function(t,e,o){},39:function(t,e,o){"use strict";o.r(e);var c=o(16),n=o.n(c),i=o(27),s=o.n(i),r=(o(34),o(14)),a=(o(35),o(20)),l=o(25),d=o(28),g=Object(d.a)({apiKey:"AIzaSyDugiSdAbhcAv4kjvZIczRILR0cWnyoLE4",authDomain:"don-t-sick.firebaseapp.com",projectId:"don-t-sick",storageBucket:"don-t-sick.appspot.com",messagingSenderId:"713607862724",appId:"1:713607862724:web:5ada0cc3cdaa6370662c91"}),b=o(13);var u=function(){var t=Object(a.b)(g),e=Object(l.a)(),o=Object(c.useState)(""),n=Object(r.a)(o,2),i=n[0],s=n[1],d=Object(c.useState)(""),u=Object(r.a)(d,2),f=u[0],p=u[1];return Object(c.useEffect)((function(){Object(a.c)(t,(function(o){if(o){if(console.log(o),!o.email.includes("@sdh.hs.kr"))return alert("\ud559\uad50\uacc4\uc815\uc73c\ub85c\ub9cc \ub85c\uadf8\uc778 \uac00\ub2a5\ud569\ub2c8\ub2e4."),void Object(a.e)(t);s(o.displayName),navigator.serviceWorker&&navigator.serviceWorker.register("/dont-sick-react/firebase-messaging-sw.js").then((function(t){console.log("\uc11c\ube44\uc2a4\uc6cc\ucee4 \ub4f1\ub85d\uc131\uacf5 :",t),Object(l.b)(e,{serviceWorkerRegistration:t,vapidKey:"BLnmZ7MoMERjyVHv4b791C7j1_-xqcVi9aCrVWDDFovZSGDgK9FROae3J8Q7AWqTJwbQDc2Dk4LrU0zAEUVqfVQ"}).then((function(t){t?(console.log(t),p(t)):(console.log("No registration token available. Request permission to generate one."),alert("\uc54c\ub9bc \uad8c\ud55c\uc744 \ud5c8\uc6a9\ud574\uc8fc\uc138\uc694."))})).catch((function(t){console.log("An error occurred while retrieving token. ",t),alert("\uc54c\ub9bc \uad8c\ud55c\uc744 \ud5c8\uc6a9\ud574\uc8fc\uc138\uc694.")}))})).catch((function(t){console.log("\uc11c\ube44\uc2a4\uc6cc\ucee4 \ub4f1\ub85d\uc2e4\ud328 :",t)}))}else{var c=new a.a;c.setCustomParameters({login_hint:"sdh@sdh.hs.kr"}),Object(a.d)(t,c)}}))}),[t]),Object(l.c)(e,(function(t){if(console.log("Message received. ",t),"granted"!==Notification.permission)alert("notification is disabled");else new Notification("\uc544\ud504\uc9c0\ub9d0\uace0",{icon:"images/logo.png",body:t.data.message})})),Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)("header",{className:"App-header",children:[Object(b.jsx)("p",{children:i}),Object(b.jsx)("p",{className:"App-link",onClick:function(){Object(a.e)(t)},children:"logout"}),Object(b.jsx)("p",{onClick:function(){return function(t,e){fetch("https://iid.googleapis.com/iid/v1/".concat(t,"/rel/topics/").concat(e),{method:"POST",headers:new Headers({Authorization:"key=AAAApiZX2cQ:APA91bGE4My7SUbJhjgtK66X8eADgEsxnBlebWlqIjfUw2YSxn43g3kZjH5mSIcHLdyH1Wfg0cwCWw8rv66tR_D2y3IyH3MCQf-9nfN4zH_SqyvqF-yOeVApflNV6bY_4SbwmgFzLKjp"})}).then((function(t){if(t.status<200||t.status>=400)throw new Error("Error Subscribing to topic: ".concat(t.status," - ").concat(t.text()));console.log('Subscribed to "'.concat(e,'"'))})).catch((function(t){console.error(t)}))}(f,"notice")},children:"\uc54c\ub9bc \ubc1b\uae30"}),Object(b.jsx)("p",{onClick:function(){return function(t,e){var o={to:"/topics/".concat(e),registration_tokens:[t]};fetch("https://iid.googleapis.com/iid/v1:batchRemove",{method:"POST",headers:new Headers({Authorization:"key=AAAApiZX2cQ:APA91bGE4My7SUbJhjgtK66X8eADgEsxnBlebWlqIjfUw2YSxn43g3kZjH5mSIcHLdyH1Wfg0cwCWw8rv66tR_D2y3IyH3MCQf-9nfN4zH_SqyvqF-yOeVApflNV6bY_4SbwmgFzLKjp","Content-Type":"application/json"}),body:JSON.stringify(o)}).then((function(t){if(t.status<200||t.status>=400)throw new Error("Error Unsubscribing to topic: ".concat(t.status," - ").concat(t.text()));console.log('Unsubscribed to "'.concat(e,'"'))})).catch((function(t){console.error(t)}))}(f,"notice")},children:"\uc54c\ub9bc \uc548\ubc1b\uae30"}),Object(b.jsx)("p",{onClick:function(){return t={message:"test"},"/topics/".concat(e="notice"),void fetch("https://fcm.googleapis.com/fcm/send",{method:"POST",headers:new Headers({Authorization:"key=AAAApiZX2cQ:APA91bGE4My7SUbJhjgtK66X8eADgEsxnBlebWlqIjfUw2YSxn43g3kZjH5mSIcHLdyH1Wfg0cwCWw8rv66tR_D2y3IyH3MCQf-9nfN4zH_SqyvqF-yOeVApflNV6bY_4SbwmgFzLKjp","Content-Type":"application/json"}),body:JSON.stringify({data:t,to:"/topics/".concat(e)})}).then((function(t){if(t.status<200||t.status>=400)throw new Error("Error ".concat(t.status," - ").concat(t.text()));console.log("Success")})).catch((function(t){console.error(t)}));var t,e},children:"\uc54c\ub9bc \ubcf4\ub0b4\uae30"})]})})},f=function(t){t&&t instanceof Function&&o.e(3).then(o.bind(null,40)).then((function(e){var o=e.getCLS,c=e.getFID,n=e.getFCP,i=e.getLCP,s=e.getTTFB;o(t),c(t),n(t),i(t),s(t)}))};s.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(u,{})}),document.getElementById("root")),f()}},[[39,1,2]]]);
//# sourceMappingURL=main.1c158d79.chunk.js.map